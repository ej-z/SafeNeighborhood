<!DOCTYPE HTML>
<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script type="text/javascript">
	
	
	var main = 
	[
  {
    "Type": "Crime",
    "Data": [
      {
        "Location": "AZ",
        "Points": [
          {
            "label": "Murder",
            "y": 10
          },
          {
            "label": "Robbery",
            "y": 10
          }
        ]
      },
      {
        "Location": "CA",
        "Points": [
          {
            "label": "Murder",
            "y": 10
          },
          {
            "label": "Robbery",
            "y": 10
          }
        ]
      }
    ]
  },
  {
    "Type": "Fire",
    "Data": [
      {
        "Location": "AZ",
        "Points": [
          {
            "label": "Arson",
            "y": 10
          },
          {
            "label": "Basic",
            "y": 10
          }
        ]
      },
      {
        "Location": "CA",
        "Points": [
          {
            "label": "Arson",
            "y": 10
          },
          {
            "label": "Basic",
            "y": 10
          }
        ]
      },
            {
        "Location": "AA",
        "Points": [
          {
            "label": "Arson",
            "y": 10
          },
          {
            "label": "Basic",
            "y": 10
          }
        ]
      }
    ]
  }
]
	window.onload = function () {

	for(var i = 0; i < main.length;i++)
	{
		var Data = []
		for(var j = 0; j < main[i].Data.length;j++)
		{
		
		Data.push({type: "stackedColumn100",
					legendText: main[i].Data[j].Location,
					showInLegend: "true",
					dataPoints: main[i].Data[j].Points})
		}

		$('#chartContainer').append('<div id="chartContainer'+i+'" style="height: 300px; width: 500px;"></div><br> <br>')

		var chart = new CanvasJS.Chart("chartContainer"+i,
		{
		title:{
			text: main[i].Type
		},
		axisY:{
			title:"count",
			interval: 20
		},
		data:Data
	});
		
		chart.render();
	}
}


</script>
</head>
<body>
	<div id="chartContainer" />
</body>
</html>